<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>{{ job.name if job.name else "Job details" }}</title>
    <style>
        body { font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial; margin: 24px; color: #111; background: #f7f8fb; }
        .container { max-width: 900px; margin: 0 auto; background: #fff; padding: 24px; border-radius: 8px; box-shadow: 0 6px 18px rgba(20,20,40,0.06); }
        header { display:flex; justify-content:space-between; align-items:center; gap:12px; margin-bottom:16px; }
        h1 { font-size:20px; margin:0; }
        .meta { color:#556; font-size:13px; }
        .section { margin-top:18px; }
        .label { font-weight:600; color:#334; margin-bottom:6px; display:block; }
        .tags { display:flex; gap:8px; flex-wrap:wrap; }
        .tag { background:#eef2ff; color:#2b2f8a; padding:6px 10px; border-radius:999px; font-size:13px; }
        .actions a { margin-left:8px; text-decoration:none; color:#0b61ff; font-size:13px; }
        pre.json { background:#0b1220; color:#dff1ff; padding:12px; border-radius:6px; overflow:auto; font-size:13px; }
        .btn { display:inline-block; padding:8px 12px; border-radius:6px; text-decoration:none; color:white; font-weight:600; }
        .btn-primary { background:#0b61ff; }
        .btn-danger { background:#e23b3b; }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div>
                <h1>{{ job.name or "Untitled job" }}</h1>
                <div class="meta">
                    {{ job.company or "Company unknown" }}
                    {% if job.zip %} • {{ job.location }}{% endif %}
                    {% if job.status %} • <strong>{{ job.status }}</strong>{% endif %}
                </div>
            </div>
            <div class="actions">
                <a class="btn btn-primary" href="{{ job.apply_url or '#' }}">Apply</a>
                <a href="/jobs/{{ job.id }}/edit">Edit</a>
                <a href="/jobs">Back to list</a>
            </div>
        </header>

        <div class="section">
            <span class="label">Description</span>
            <div>{{ job.description | safe if job.description else "No description provided." }}</div>
        </div>

        <div class="section">
            <span class="label">Details</span>
            <ul>
                {% if job.salary %}<li><strong>Salary:</strong> {{ job.salary }}</li>{% endif %}
                {% if job.type %}<li><strong>Type:</strong> {{ job.type }}</li>{% endif %}
                {% if job.posted_at %}<li><strong>Posted:</strong> {{ job.posted_at }}</li>{% endif %}
                {% if job.expires_at %}<li><strong>Expires:</strong> {{ job.expires_at }}</li>{% endif %}
                {% if job.remote is not none %}<li><strong>Remote:</strong> {{ "Yes" if job.remote else "No" }}</li>{% endif %}
            </ul>
        </div>

        {% if job.tags %}
        <div class="section">
            <span class="label">Tags</span>
            <div class="tags">
                {% for t in job.tags %}
                    <span class="tag">{{ t }}</span>
                {% endfor %}
            </div>
        </div>
        {% endif %}

        <div class="section">
            <span class="label">Raw data</span>
            <pre class="json">{{ job | tojson(indent=2) }}</pre>
        </div>

        <footer style="margin-top:18px; font-size:13px; color:#667;">
            <small>Job ID: {{ job.id }}</small>
        </footer>
    </div>
</body>
</html>